<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Loan Approval Prediction</title>
  <style>
    body {
      font-family: "Segoe UI", Tahoma, Arial, sans-serif;
      background-color: #f5f7fa;
      margin: 0;
      min-height: 100vh;
      display: grid;
      place-items: center;
    }
    .card {
      width: 520px;
      background: #ffffff;
      padding: 28px 28px 22px;
      border-radius: 10px;
      box-shadow: 0 6px 22px rgba(0, 0, 0, 0.08);
    }
    h2 {
      margin: 0 0 18px;
      color: #2c3e50;
      font-weight: 600;
      text-align: center;
    }
    .grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px 16px;
    }
    label {
      font-size: 13px;
      color: #34495e;
      margin-bottom: 6px;
      display: inline-block;
    }
    input, select {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccd3db;
      border-radius: 6px;
      font-size: 14px;
      background: #fff;
      box-sizing: border-box;
    }
    input:focus, select:focus {
      border-color: #3a7bd5;
      outline: none;
      box-shadow: 0 0 4px rgba(58, 123, 213, 0.25);
    }
    .full { grid-column: 1 / -1; }
    .actions {
      margin-top: 14px;
    }
    .btn {
      width: 100%;
      padding: 12px;
      background-color: #3a7bd5;
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 15px;
      font-weight: 600;
    }
    .btn:hover { background-color: #336bb3; }
    .result {
      margin-top: 14px;
      padding: 12px;
      border-radius: 6px;
      text-align: center;
      font-weight: 600;
    }
    .approved {
      color: #2e7d32;
      background-color: #e8f5e9;
      border: 1px solid #a5d6a7;
    }
    .rejected {
      color: #c62828;
      background-color: #fdecea;
      border: 1px solid #f5c6cb;
    }
    .muted {
      margin-top: 8px;
      font-size: 12px;
      color: #6b7280;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="card">
    <h2>Loan Approval Prediction</h2>

    <form action="/predict" method="post">
      <div class="grid">
        <div>
          <label for="Gender">Gender</label>
          <select name="Gender" id="Gender">
            <option value="Male"  {% if last_input and last_input['Gender']=='Male' %}selected{% endif %}>Male</option>
            <option value="Female"{% if last_input and last_input['Gender']=='Female' %}selected{% endif %}>Female</option>
          </select>
        </div>

        <div>
          <label for="Married">Marital Status</label>
          <select name="Married" id="Married">
            <option value="Yes" {% if last_input and last_input['Married']=='Yes' %}selected{% endif %}>Married</option>
            <option value="No"  {% if last_input and last_input['Married']=='No' %}selected{% endif %}>Single</option>
          </select>
        </div>

        <div>
          <label for="Dependents">Dependents</label>
          <select name="Dependents" id="Dependents">
            <option value="0"  {% if last_input and last_input['Dependents']=='0' %}selected{% endif %}>0</option>
            <option value="1"  {% if last_input and last_input['Dependents']=='1' %}selected{% endif %}>1</option>
            <option value="2"  {% if last_input and last_input['Dependents']=='2' %}selected{% endif %}>2</option>
            <option value="3+" {% if last_input and last_input['Dependents']=='3+' %}selected{% endif %}>3+</option>
          </select>
        </div>

        <div>
          <label for="Education">Education</label>
          <select name="Education" id="Education">
            <option value="Graduate"     {% if last_input and last_input['Education']=='Graduate' %}selected{% endif %}>Graduate</option>
            <option value="Not Graduate" {% if last_input and last_input['Education']=='Not Graduate' %}selected{% endif %}>Not Graduate</option>
          </select>
        </div>

        <div>
          <label for="Self_Employed">Self Employed</label>
          <select name="Self_Employed" id="Self_Employed">
            <option value="Yes" {% if last_input and last_input['Self_Employed']=='Yes' %}selected{% endif %}>Yes</option>
            <option value="No"  {% if last_input and last_input['Self_Employed']=='No' %}selected{% endif %}>No</option>
          </select>
        </div>

        <div>
          <label for="Property_Area">Property Area</label>
          <select name="Property_Area" id="Property_Area">
            <option value="Urban"     {% if last_input and last_input['Property_Area']=='Urban' %}selected{% endif %}>Urban</option>
            <option value="Semiurban" {% if last_input and last_input['Property_Area']=='Semiurban' %}selected{% endif %}>Semiurban</option>
            <option value="Rural"     {% if last_input and last_input['Property_Area']=='Rural' %}selected{% endif %}>Rural</option>
          </select>
        </div>

        <div>
          <label for="ApplicantIncome">Applicant Income</label>
          <input type="number" name="ApplicantIncome" id="ApplicantIncome" placeholder="e.g., 6000" value="{{ last_input['ApplicantIncome'] if last_input else '' }}" required />
        </div>

        <div>
          <label for="CoapplicantIncome">Co-applicant Income</label>
          <input type="number" name="CoapplicantIncome" id="CoapplicantIncome" placeholder="e.g., 2000" value="{{ last_input['CoapplicantIncome'] if last_input else '' }}" />
        </div>

        <div>
          <label for="LoanAmount">Loan Amount</label>
          <input type="number" name="LoanAmount" id="LoanAmount" placeholder="e.g., 120" value="{{ last_input['LoanAmount'] if last_input else '' }}" required />
        </div>

        <div>
          <label for="Loan_Amount_Term">Loan Term (days)</label>
          <input type="number" name="Loan_Amount_Term" id="Loan_Amount_Term" placeholder="e.g., 360" value="{{ last_input['Loan_Amount_Term'] if last_input else '' }}" required />
        </div>

        <div class="full">
          <label for="Credit_History">Credit History</label>
          <select name="Credit_History" id="Credit_History">
            <option value="1" {% if last_input and last_input['Credit_History'] in ['1','1.0',1,1.0] %}selected{% endif %}>Good (1)</option>
            <option value="0" {% if last_input and last_input['Credit_History'] in ['0','0.0',0,0.0] %}selected{% endif %}>Bad (0)</option>
          </select>
        </div>
      </div>

      <div class="actions">
        <button class="btn" type="submit">Predict</button>
      </div>
    </form>

    {% if prediction %}
      <div class="result {% if 'Approved' in prediction %}approved{% else %}rejected{% endif %}">
        {{ prediction }}
      </div>
    {% endif %}

    <div class="muted">This is a demo. Predictions are for educational purposes only.</div>
  </div>
</body>
</html>
